(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9343:function(e,t,r){Promise.resolve().then(r.t.bind(r,2853,23)),Promise.resolve().then(r.bind(r,7323)),Promise.resolve().then(r.bind(r,2254)),Promise.resolve().then(r.bind(r,259)),Promise.resolve().then(r.bind(r,1815)),Promise.resolve().then(r.bind(r,2206)),Promise.resolve().then(r.t.bind(r,3925,23))},7323:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var s=r(7437),a=r(2265),i=r(4841);let n=(0,a.createContext)(null);function AuthProvider(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[u,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(!i.O){l(!1);return}let e=!0;(async()=>{let{data:t}=await i.O.auth.getSession();if(e){var r,s;o(null!==(s=null===(r=t.session)||void 0===r?void 0:r.user)&&void 0!==s?s:null),l(!1)}})();let{data:t}=i.O.auth.onAuthStateChange((e,t)=>{var r;o(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null)});return()=>{e=!1,t.subscription.unsubscribe()}},[]);let signIn=async(e,t)=>{if(!i.O)return{error:"Supabase not configured"};let{error:r}=await i.O.auth.signInWithPassword({email:e,password:t});return{error:null==r?void 0:r.message}},signUp=async(e,t)=>{if(!i.O)return{error:"Supabase not configured"};let{error:r}=await i.O.auth.signUp({email:e,password:t});return{error:null==r?void 0:r.message}},signOut=async()=>{i.O&&await i.O.auth.signOut()},d=(0,a.useMemo)(()=>({user:r,loading:u,signIn,signUp,signOut}),[r,u]);return(0,s.jsx)(n.Provider,{value:d,children:t})}function useAuth(){let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},2254:function(e,t,r){"use strict";r.r(t),r.d(t,{CartProvider:function(){return CartProvider},useCart:function(){return useCart}});var s=r(7437),a=r(2265);let i=(0,a.createContext)(null),n="smiley_cart_v1";function CartProvider(e){let{children:t}=e,[r,o]=(0,a.useState)([]);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(n);e&&o(JSON.parse(e))}catch(e){}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem(n,JSON.stringify(r))}catch(e){}},[r]);let u=(0,a.useMemo)(()=>r.reduce((e,t)=>e+t.price*t.quantity,0),[r]),l=(0,a.useMemo)(()=>r.reduce((e,t)=>e+t.quantity,0),[r]);return(0,s.jsx)(i.Provider,{value:{items:r,addItem:e=>{o(t=>{let r=t.find(t=>t.id===e.id);return r?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+e.quantity}:t):[...t,e]})},removeItem:e=>o(t=>t.filter(t=>t.id!==e)),updateQuantity:(e,t)=>o(r=>r.map(r=>r.id===e?{...r,quantity:t}:r)),clear:()=>o([]),subtotal:u,itemCount:l},children:t})}function useCart(){let e=(0,a.useContext)(i);if(!e)throw Error("useCart must be used within CartProvider");return e}},259:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return NewsletterPopup}});var s=r(7437),a=r(2265),i=r(2167),n=r(5251),o=r(3611),u=r(2549),l=r(1295),d=r(6643),c=r(446);function NewsletterPopup(){let[e,t]=(0,a.useState)(!1),[r,f]=(0,a.useState)(""),{toast:m}=(0,c.pm)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("smiley-newsletter-popup");if(!e){let e=setTimeout(()=>{t(!0)},3e3);return()=>clearTimeout(e)}},[]),(0,s.jsx)(i.M,{children:e&&(0,s.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,s.jsxs)(n.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl",children:[(0,s.jsx)("button",{onClick:()=>{localStorage.setItem("smiley-newsletter-popup","true"),t(!1)},className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(u.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCE7"}),(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Stay ",(0,s.jsx)("span",{className:"text-rainbow",children:"Smiley"})," with Us!"]}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Get 10% off your first order plus exclusive flavor drops and oral care tips!"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r&&(m({title:"Welcome to SMILEY! \uD83C\uDF89",description:"Thanks for subscribing! Check your email for a 10% discount code."}),localStorage.setItem("smiley-newsletter-popup","true"),t(!1),f(""))},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"email",value:r,onChange:e=>f(e.target.value),placeholder:"Enter your email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-smiely-mango focus:border-transparent transition-all duration-200"})]}),(0,s.jsxs)(o.z,{type:"submit",variant:"smiley",size:"lg",className:"w-full group",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Get 10% Off!"]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"We respect your privacy. Unsubscribe at any time."})]})]})})})}},1815:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeProvider:function(){return ThemeProvider}});var s=r(7437);r(2265);var a=r(6435);function ThemeProvider(e){let{children:t,...r}=e;return(0,s.jsx)(a.f,{...r,children:t})}},3611:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(7437),a=r(2265),i=r(7256),n=r(6061),o=r(1628);let u=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-105",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",smiley:"bg-gradient-to-r from-smiely-mango to-smiely-strawberry text-white hover:shadow-lg hover:scale-105 !text-white",smileyOutline:"bg-white text-smiely-mango border-2 border-smiely-mango hover:bg-smiely-mango hover:text-white",smileyAccent:"bg-smiely-yuzu text-white hover:bg-smiely-yuzu/90 hover:scale-105 !text-white"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3",lg:"h-11 rounded-full px-8",xl:"h-14 rounded-full px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:l=!1,...d}=e,c=l?i.g7:"button";return(0,s.jsx)(c,{className:(0,o.cn)(u({variant:a,size:n,className:r})),ref:t,...d})});l.displayName="Button"},2206:function(e,t,r){"use strict";r.r(t),r.d(t,{Toaster:function(){return Toaster}});var s=r(7437),a=r(2265),i=r(8568),n=r(6061),o=r(2549),u=r(1628);let l=i.zt,d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.l_,{ref:t,className:(0,u.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...a})});d.displayName=i.l_.displayName;let c=(0,n.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)(i.fC,{ref:t,className:(0,u.cn)(c({variant:a}),r),...n})});f.displayName=i.fC.displayName;let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.aU,{ref:t,className:(0,u.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...a})});m.displayName=i.aU.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.x8,{ref:t,className:(0,u.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...a,children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})});p.displayName=i.x8.displayName;let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.Dx,{ref:t,className:(0,u.cn)("text-sm font-semibold",r),...a})});v.displayName=i.Dx.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.dk,{ref:t,className:(0,u.cn)("text-sm opacity-90",r),...a})});h.displayName=i.dk.displayName;var g=r(446);function Toaster(){let{toasts:e}=(0,g.pm)();return(0,s.jsxs)(l,{children:[e.map(function(e){let{id:t,title:r,description:a,action:i,...n}=e;return(0,s.jsxs)(f,{...n,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[r&&(0,s.jsx)(v,{children:r}),a&&(0,s.jsx)(h,{children:a})]}),i,(0,s.jsx)(p,{})]},t)}),(0,s.jsx)(d,{})]})}},446:function(e,t,r){"use strict";r.d(t,{pm:function(){return useToast}});var s=r(2265);let a=0;function genId(){return(a=(a+1)%Number.MAX_SAFE_INTEGER).toString()}let i=new Map,addToRemoveQueue=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},reducer=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?addToRemoveQueue(r):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},n=[],o={toasts:[]};function dispatch(e){o=reducer(o,e),n.forEach(e=>{e(o)})}function toast(e){let{...t}=e,r=genId(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:r});return dispatch({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:r,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function useToast(){let[e,t]=s.useState(o);return s.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast,dismiss:e=>dispatch({type:"DISMISS_TOAST",toastId:e})}}},4841:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var s=r(7440),a=r(2601);let i=a.env.NEXT_PUBLIC_SUPABASE_URL,n=a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,o=i&&n?(0,s.eI)(i,n):null},1628:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn}});var s=r(7042),a=r(4769);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},2853:function(){}},function(e){e.O(0,[621,251,440,816,971,472,744],function(){return e(e.s=9343)}),_N_E=e.O()}]);